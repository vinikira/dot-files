# -*- mode: snippet -*-
#name : SuiteScript Suitelet
# --
/**
 *@NApiVersion 2.x
 *@NScriptType Suitelet
 */
define([${1:deps}],
  function(${2:aliases}) {
    function onRequest(context) {
      const router = {
        'GET': get,
        'POST': post,
        'PUT': put,
        'DELETE': delete
      }

      const handler = router[context.request.method] || notFound

      return handler(context)
    }

    function get(context) {
      $0
    }

    function post(context) {
    }

    function put(context) {
    }

    function delete(context) {
    }

    function notFound(context) {
      // TODO
    }

    return {
      onRequest: onRequest
    }
  })