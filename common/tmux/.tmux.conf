set -g history-limit 5000
set -g default-terminal "xterm-256color"
set-option -sa terminal-overrides ',xterm-256color:RGB'
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

# Mouse mode
set -g mouse on

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Vi bindings for copy mode
setw -g mode-keys vi

# No delays after ESC
set -s escape-time 0

# Stay in tmux when session closes
set -g detach-on-destroy off

# No gaps after closing windows
set -g renumber-windows on

# Enable set-clipboard
set -g set-clipboard on

# Appearance
set -g status-bg black
set -g status-fg white

# Custom bindings
bind C-g display-popup -E "lazygit"
bind r source-file ~/.tmux.conf \; display "Reloaded!"
bind C-n display-popup -E "nvim ~/Sync/md/notes.md"
bind C-p display-popup -E "find ~/.password-store/ -type f -print0 | fzf --read0 | sed 's@.*password-store/@@; s/.gpg//' | xargs pass -c"
